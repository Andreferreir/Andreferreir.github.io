<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>INCOSE Portugal | Engenharia de Sistemas</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&display=swap" rel="stylesheet">
<style>
/* â”€â”€â”€ TOKENS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
:root {
  --blue:#003580;--blue2:#0055cc;--teal:#007a8a;--teal2:#00b4c8;
  --cork:#c8a96e;--sand:#f0e8d8;--dark:#080e1e;--card:#0d1530;
  --card2:#111b38;--white:#fff;--muted:#6b82aa;--border:rgba(255,255,255,0.07);
  --success:#22c55e;--warn:#f59e0b;--danger:#ef4444;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'DM Sans',sans-serif;background:var(--dark);color:var(--white);overflow-x:hidden;min-height:100vh;display:flex;flex-direction:column}
h1,h2,h3,h4,h5{font-family:'Syne',sans-serif}
a{color:inherit;text-decoration:none}
::-webkit-scrollbar{width:5px}::-webkit-scrollbar-track{background:var(--dark)}::-webkit-scrollbar-thumb{background:var(--card2);border-radius:3px}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.7)}}
@keyframes fadeInUp{from{opacity:0;transform:translateY(22px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeInLeft{from{opacity:0;transform:translateX(-24px)}to{opacity:1;transform:translateX(0)}}
@keyframes fadeInRight{from{opacity:0;transform:translateX(24px)}to{opacity:1;transform:translateX(0)}}
@keyframes slideUp{to{transform:translateY(0)}}

/* â”€â”€â”€ LAYOUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.container{max-width:1200px;margin:0 auto;padding:0 2rem;width:100%}
main{flex:1}
.page{display:none;padding:3rem 0;animation:fadeInUp .45s ease both}
.page.active{display:block}

/* â”€â”€â”€ UTILITY BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#util-bar{background:rgba(0,20,60,.98);border-bottom:1px solid var(--border);padding:.35rem 2rem;display:flex;align-items:center;justify-content:flex-end;gap:1.2rem;font-size:.76rem}
#util-bar a{color:var(--muted);transition:color .2s}
#util-bar a:hover{color:var(--teal2)}
.lang-toggle{display:flex;border:1px solid var(--border);border-radius:4px;overflow:hidden}
.lang-toggle button{background:transparent;border:none;padding:.22rem .55rem;color:var(--muted);cursor:pointer;font-family:'DM Sans',sans-serif;font-weight:700;font-size:.72rem;transition:all .2s}
.lang-toggle button.active{background:var(--teal);color:#fff}

/* â”€â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
header{position:sticky;top:0;z-index:200;background:rgba(8,14,30,.97);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;display:flex;align-items:center;justify-content:space-between;height:64px;gap:1rem}
.logo-group{display:flex;align-items:center;gap:1.1rem;flex-shrink:0}
.logo-mark{width:38px;height:38px;border-radius:6px;background:var(--blue);display:flex;align-items:center;justify-content:center;font-size:.55rem;font-weight:800;font-family:'Syne',sans-serif;letter-spacing:.5px;color:#fff;border:2px solid rgba(0,85,204,.5);flex-shrink:0}
.logo-text .main{font-size:.95rem;font-weight:700;font-family:'Syne',sans-serif}
.logo-text .sub{font-size:.58rem;color:var(--cork);letter-spacing:2px;text-transform:uppercase}
.logo-divider{width:1px;height:26px;background:var(--border)}
.logo-sespt{font-size:.62rem;font-weight:700;color:var(--muted);letter-spacing:1px;text-transform:uppercase}
nav{display:flex;gap:0;overflow-x:auto}
nav button{padding:0 .85rem;height:64px;background:transparent;border:none;border-bottom:2px solid transparent;color:rgba(255,255,255,.6);cursor:pointer;font-family:'DM Sans',sans-serif;font-size:.82rem;font-weight:500;transition:all .2s;white-space:nowrap}
nav button:hover{color:#fff}
nav button.active{color:#fff;border-bottom-color:var(--teal2)}
.header-cta{flex-shrink:0}

/* â”€â”€â”€ BUTTONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.btn{display:inline-flex;align-items:center;gap:.4rem;font-family:'DM Sans',sans-serif;font-weight:600;cursor:pointer;border:none;border-radius:6px;transition:all .2s;text-decoration:none;white-space:nowrap}
.btn-sm{padding:.32rem .8rem;font-size:.76rem}
.btn-md{padding:.62rem 1.3rem;font-size:.86rem}
.btn-lg{padding:.8rem 1.9rem;font-size:.93rem}
.btn-primary{background:var(--blue);color:#fff}
.btn-primary:hover{background:var(--blue2);transform:translateY(-1px)}
.btn-teal{background:var(--teal);color:#fff}
.btn-teal:hover{background:var(--teal2);color:#fff;transform:translateY(-1px)}
.btn-ghost{background:transparent;color:rgba(255,255,255,.65);border:1px solid var(--border)}
.btn-ghost:hover{color:#fff;border-color:rgba(255,255,255,.25)}
.btn-success{background:rgba(34,197,94,.15);color:var(--success);border:1px solid rgba(34,197,94,.3)}
.btn-danger{background:rgba(239,68,68,.12);color:var(--danger);border:1px solid rgba(239,68,68,.25)}
.btn-danger:hover{background:rgba(239,68,68,.2)}
.btn-full{width:100%;justify-content:center}

/* â”€â”€â”€ CARDS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;transition:all .25s}
.card:hover{border-color:rgba(0,180,200,.22)}
.card-flat{background:var(--card);border:1px solid var(--border);border-radius:12px}

/* â”€â”€â”€ TAGS / BADGES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.badge{display:inline-flex;align-items:center;padding:.14rem .48rem;border-radius:4px;font-size:.67rem;font-weight:600;letter-spacing:.4px}
.badge-default{background:rgba(255,255,255,.05);color:var(--muted);border:1px solid var(--border)}
.badge-teal{background:rgba(0,180,200,.12);color:var(--teal2);border:1px solid rgba(0,180,200,.25)}
.badge-blue{background:rgba(0,85,204,.15);color:#7ab2ff;border:1px solid rgba(0,85,204,.3)}
.badge-cork{background:rgba(200,169,110,.12);color:var(--cork);border:1px solid rgba(200,169,110,.25)}
.badge-green{background:rgba(34,197,94,.1);color:var(--success);border:1px solid rgba(34,197,94,.2)}
.badge-warn{background:rgba(245,158,11,.1);color:var(--warn);border:1px solid rgba(245,158,11,.2)}

/* â”€â”€â”€ ALERTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.alert{border-radius:8px;padding:.7rem 1rem;font-size:.82rem;display:flex;gap:.5rem;align-items:flex-start;margin-bottom:1rem}
.alert-info{background:rgba(0,180,200,.08);border:1px solid rgba(0,180,200,.25);color:var(--teal2)}
.alert-warn{background:rgba(245,158,11,.08);border:1px solid rgba(245,158,11,.25);color:var(--warn)}
.alert-success{background:rgba(34,197,94,.08);border:1px solid rgba(34,197,94,.25);color:var(--success)}
.alert-error{background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.25);color:var(--danger)}

/* â”€â”€â”€ FORMS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.form-group{margin-bottom:.85rem}
.form-group label{display:block;font-size:.73rem;font-weight:600;color:var(--muted);margin-bottom:.32rem;letter-spacing:.4px}
.form-group input,.form-group select,.form-group textarea{width:100%;background:rgba(255,255,255,.05);border:1px solid var(--border);border-radius:6px;padding:.62rem 1rem;color:#fff;font-family:'DM Sans',sans-serif;font-size:.87rem;transition:border-color .2s;outline:none}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{border-color:var(--teal)}
.form-group textarea{resize:vertical;min-height:80px}
.form-group select option{background:var(--card);color:#fff}

/* â”€â”€â”€ SECTION HEADERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.section-label{font-size:.67rem;font-weight:700;letter-spacing:3px;text-transform:uppercase;color:var(--teal2);margin-bottom:.55rem}
.section-title{font-size:clamp(1.6rem,3vw,2.4rem);font-weight:800;letter-spacing:-.5px;line-height:1.15;margin-bottom:.8rem}
.grad{background:linear-gradient(135deg,var(--teal2),var(--cork));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.section-sub{font-size:.9rem;color:var(--muted);line-height:1.7;max-width:560px;margin-bottom:2rem}

/* â”€â”€â”€ DIVIDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
hr.divider{border:none;border-top:1px solid var(--border);margin:1rem 0}

/* â”€â”€â”€ TOP BOX â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.topbox{background:linear-gradient(135deg,rgba(0,122,138,.08),rgba(0,53,128,.05));border:1px solid var(--border);border-radius:8px;padding:1rem 1.2rem}

/* â”€â”€â”€ MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.82);z-index:500;align-items:center;justify-content:center;padding:1rem;backdrop-filter:blur(8px)}
.modal-overlay.open{display:flex}
.modal-box{background:var(--card);border:1px solid var(--border);border-radius:16px;width:100%;max-width:460px;max-height:90vh;overflow-y:auto;position:relative}
.modal-top-bar{height:3px;background:linear-gradient(90deg,var(--blue),var(--teal));border-radius:16px 16px 0 0}
.modal-body{padding:1.5rem 1.8rem}
.modal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.1rem}
.modal-header h3{font-size:1.15rem;font-weight:700}
.modal-close{background:transparent;border:none;color:var(--muted);cursor:pointer;font-size:1.1rem;padding:.2rem}
.modal-tabs{display:flex;border-bottom:1px solid var(--border);margin-bottom:1.2rem}
.modal-tab{flex:1;background:transparent;border:none;border-bottom:2px solid transparent;padding:.6rem;color:var(--muted);cursor:pointer;font-family:'DM Sans',sans-serif;font-weight:600;font-size:.84rem;transition:all .2s}
.modal-tab.active{color:#fff;border-bottom-color:var(--teal2)}
.demo-chips{display:flex;gap:.4rem;flex-wrap:wrap;margin-top:.3rem}

/* â”€â”€â”€ DASHBOARD TABS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.dash-tabs{display:flex;border-bottom:1px solid var(--border);margin-bottom:2rem}
.dash-tab{background:transparent;border:none;border-bottom:2px solid transparent;padding:.6rem 1.1rem;color:var(--muted);cursor:pointer;font-family:'DM Sans',sans-serif;font-weight:600;font-size:.84rem;transition:all .2s}
.dash-tab.active{color:#fff;border-bottom-color:var(--teal2)}
.dash-panel{display:none}
.dash-panel.active{display:block}

/* â”€â”€â”€ COOKIE BANNER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#cookie-banner{position:fixed;bottom:0;left:0;right:0;z-index:999;background:rgba(8,14,30,.98);border-top:1px solid var(--border);padding:1rem 2rem;display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap;backdrop-filter:blur(16px);transform:translateY(100%);animation:slideUp .5s 1.5s forwards}
#cookie-banner p{font-size:.81rem;color:var(--muted);max-width:600px}

/* â”€â”€â”€ HERO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#hero{position:relative;min-height:88vh;display:flex;align-items:center;overflow:hidden;background:linear-gradient(135deg,#050c1a 0%,#001040 55%,#002244 100%)}
.hero-bg-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(0,122,138,.05) 1px,transparent 1px),linear-gradient(90deg,rgba(0,122,138,.05) 1px,transparent 1px);background-size:55px 55px;mask-image:radial-gradient(ellipse 80% 80% at 50% 50%,black 20%,transparent 100%)}
.hero-glow{position:absolute;top:-20%;right:-5%;width:600px;height:600px;border-radius:50%;background:radial-gradient(circle,rgba(0,122,138,.15) 0%,transparent 70%)}
.hero-content{position:relative;z-index:2;display:grid;grid-template-columns:1fr 1fr;gap:4rem;align-items:center}
.hero-left{animation:fadeInLeft .7s .1s both}
.hero-right{animation:fadeInRight .7s .3s both}
.hero-badge{display:inline-flex;align-items:center;gap:.5rem;background:rgba(0,122,138,.12);border:1px solid rgba(0,180,200,.3);padding:.3rem .85rem;border-radius:20px;font-size:.71rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--teal2);margin-bottom:1.4rem}
.hero-badge-dot{width:6px;height:6px;border-radius:50%;background:var(--teal2);animation:pulse 2s infinite;flex-shrink:0}
.hero-h1{font-size:clamp(2rem,4vw,3.5rem);font-weight:800;line-height:1.1;letter-spacing:-1px;margin-bottom:1.2rem}
.hero-p{font-size:1rem;color:rgba(255,255,255,.6);line-height:1.75;margin-bottom:2rem;max-width:480px}
.hero-ctas{display:flex;gap:1rem;flex-wrap:wrap}
.hero-card{background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:16px;padding:1.8rem;backdrop-filter:blur(10px);position:relative}
.hero-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--blue),var(--teal),var(--cork));border-radius:16px 16px 0 0}
.hero-stats{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.4rem}
.stat-num{font-size:1.8rem;font-weight:800;font-family:'Syne',sans-serif;background:linear-gradient(135deg,var(--teal2),var(--cork));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.stat-label{font-size:.71rem;color:var(--muted);margin-top:2px}
.next-event-box{background:rgba(0,122,138,.1);border:1px solid rgba(0,122,138,.25);border-radius:8px;padding:.9rem}
.next-event-label{font-size:.62rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--teal2);margin-bottom:.3rem}
.hero-wave{position:absolute;bottom:0;left:0;right:0;height:80px;opacity:.12}

/* â”€â”€â”€ EVENTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.filter-bar{display:flex;gap:.4rem;flex-wrap:wrap;align-items:center;margin-bottom:1.5rem}
.filter-label{font-size:.73rem;color:var(--muted);font-weight:600;margin-right:.2rem}
.event-row{display:flex;align-items:center;gap:1.4rem;padding:1.2rem 1.5rem}
.event-date-box{min-width:50px;text-align:center;background:rgba(0,53,128,.2);border:1px solid rgba(0,85,204,.3);border-radius:8px;padding:.5rem .3rem;flex-shrink:0}
.event-day{font-size:1.4rem;font-weight:800;font-family:'Syne',sans-serif;line-height:1}
.event-month{font-size:.6rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--muted)}
.event-right{text-align:right;flex-shrink:0}
.event-price{font-size:1.25rem;font-weight:800;font-family:'Syne',sans-serif}
.event-price-free{color:var(--success)}
.events-list{display:flex;flex-direction:column;gap:.85rem}

/* â”€â”€â”€ JOBS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.jobs-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.job-card{padding:1.2rem 1.3rem}
.job-logo{width:42px;height:42px;border-radius:8px;background:rgba(0,53,128,.3);border:1px solid rgba(0,85,204,.2);display:flex;align-items:center;justify-content:center;font-size:.68rem;font-weight:800;color:var(--teal2);flex-shrink:0}

/* â”€â”€â”€ KNOWLEDGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.docs-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}
.doc-card{padding:1.2rem;cursor:pointer}

/* â”€â”€â”€ MEMBERSHIP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.plans-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem;margin-bottom:2rem}
.plan-card{padding:1.8rem;position:relative}
.plan-card.featured{border-color:rgba(0,180,200,.4)!important}
.plan-popular{position:absolute;top:-11px;left:50%;transform:translateX(-50%);background:var(--teal);padding:.14rem .75rem;border-radius:10px;font-size:.63rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;white-space:nowrap}
.plan-price-num{font-size:2.1rem;font-weight:800;font-family:'Syne',sans-serif}
.plan-benefits{list-style:none;margin-bottom:1.4rem}
.plan-benefits li{font-size:.81rem;color:rgba(255,255,255,.75);padding:.25rem 0;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:.5rem}
.plan-benefits li::before{content:'âœ“';color:var(--teal2);font-size:.68rem;flex-shrink:0}

/* â”€â”€â”€ DASHBOARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.user-hero{display:flex;align-items:center;gap:1.2rem;margin-bottom:2rem}
.user-avatar{width:54px;height:54px;border-radius:50%;background:linear-gradient(135deg,var(--blue),var(--teal));display:flex;align-items:center;justify-content:center;font-size:1.2rem;font-weight:800;font-family:'Syne',sans-serif;flex-shrink:0}
.stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:2rem}
.stat-box{padding:1.2rem;text-align:center}
.stat-box .val{font-size:1.3rem;font-weight:800;font-family:'Syne',sans-serif;margin-bottom:.15rem}
.stat-box .lbl{font-size:.71rem;color:var(--muted)}
table.dash-table{width:100%;border-collapse:collapse;font-size:.83rem}
table.dash-table th{padding:.6rem .8rem;text-align:left;font-size:.67rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--muted);border-bottom:1px solid var(--border)}
table.dash-table td{padding:.8rem;border-bottom:1px solid var(--border)}
.cert-row{display:flex;align-items:center;gap:1rem;padding:1rem 1.3rem;margin-bottom:.7rem}

/* â”€â”€â”€ ADMIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.admin-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:2rem}
.news-manage-row{display:flex;align-items:center;gap:1rem;padding:1rem 1.3rem;margin-bottom:.65rem}

/* â”€â”€â”€ ABOUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.about-grid{display:grid;grid-template-columns:2fr 1fr;gap:3rem;margin-top:2rem}
.wg-grid{display:grid;grid-template-columns:1fr 1fr;gap:.8rem;margin-top:1rem}
.wg-card{padding:1rem}

/* â”€â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
footer{background:#030810;border-top:1px solid var(--border);margin-top:auto}
.footer-cols{max-width:1200px;margin:0 auto;padding:3rem 2rem 1.5rem;display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:2.5rem}
.footer-col h4{font-size:.63rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--cork);margin-bottom:1rem}
.footer-col p,.footer-col a{font-size:.81rem;color:var(--muted);line-height:1.7}
.footer-col a{display:block;text-decoration:none;margin-bottom:.38rem;transition:color .2s}
.footer-col a:hover{color:#fff}
.footer-social{display:flex;gap:.55rem;margin-top:1rem}
.social-btn{width:30px;height:30px;border-radius:6px;background:rgba(255,255,255,.05);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:.73rem;cursor:pointer;transition:all .2s}
.social-btn:hover{background:var(--teal);color:#fff;border-color:var(--teal)}
.footer-bottom{max-width:1200px;margin:0 auto;padding:.9rem 2rem;border-top:1px solid var(--border);display:flex;justify-content:space-between;flex-wrap:wrap;gap:.5rem;align-items:center}
.footer-bottom p{font-size:.73rem;color:rgba(255,255,255,.28);line-height:1.55}
.footer-bottom strong{color:rgba(255,255,255,.38)}
.footer-links{display:flex;gap:1.2rem}
.footer-links a{font-size:.71rem;color:rgba(255,255,255,.28);transition:color .2s}
.footer-links a:hover{color:rgba(255,255,255,.6)}

/* â”€â”€â”€ HOME NEWS GRID â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.news-grid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:1.2rem}
.news-card{padding:1.2rem;cursor:pointer}
.news-card-icon{font-size:1.9rem;margin-bottom:.75rem}
.quick-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-top:2rem}
.quick-card{padding:1.4rem;text-align:center;cursor:pointer}

/* â”€â”€â”€ RESPONSIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media(max-width:900px){
  .hero-content,.about-grid{grid-template-columns:1fr}
  .hero-right,.wg-grid-right{display:none}
  .news-grid,.jobs-grid,.docs-grid,.plans-grid,.stats-row,.admin-stats{grid-template-columns:1fr}
  .footer-cols{grid-template-columns:1fr 1fr}
  header{padding:0 1rem}
  nav button{padding:0 .6rem;font-size:.76rem}
  #util-bar{display:none}
  .container{padding:0 1rem}
  .quick-grid{grid-template-columns:1fr 1fr}
}
</style>
</head>
<body>

<!-- â–‘â–‘â–‘ COOKIE BANNER â–‘â–‘â–‘ -->
<div id="cookie-banner">
  <p>Usamos cookies para melhorar a sua experiÃªncia (RGPD). <a href="#" style="color:var(--teal2)">PolÃ­tica de Privacidade</a></p>
  <div style="display:flex;gap:.6rem">
    <button class="btn btn-ghost btn-sm" onclick="closeCookie()">Recusar nÃ£o essenciais</button>
    <button class="btn btn-teal btn-sm" onclick="closeCookie()">Aceitar todos</button>
  </div>
</div>

<!-- â–‘â–‘â–‘ AUTH MODAL â–‘â–‘â–‘ -->
<div class="modal-overlay" id="modal-auth" onclick="if(event.target===this)closeModal('modal-auth')">
  <div class="modal-box">
    <div class="modal-top-bar"></div>
    <div class="modal-body">
      <div class="modal-header">
        <h3 id="auth-modal-title">Entrar na plataforma</h3>
        <button class="modal-close" onclick="closeModal('modal-auth')">âœ•</button>
      </div>
      <div class="modal-tabs">
        <button class="modal-tab active" onclick="switchAuthTab('login')">Login</button>
        <button class="modal-tab" onclick="switchAuthTab('register')">Registar</button>
      </div>

      <!-- Login panel -->
      <div id="auth-login">
        <div class="form-group"><label>Email</label><input id="login-email" type="email" value="membro@incose.pt"></div>
        <div class="form-group"><label>Password</label><input id="login-pass" type="password" value="demo123"></div>
        <div id="login-err" class="alert alert-error" style="display:none">âš  Email ou password incorretos.</div>
        <button class="btn btn-primary btn-md btn-full" onclick="doLogin()">Entrar â†’</button>
        <hr class="divider">
        <p style="font-size:.71rem;color:var(--muted);margin-bottom:.55rem;font-weight:600;letter-spacing:1px">DEMO â€“ clique para preencher:</p>
        <div class="demo-chips">
          <button class="btn btn-ghost btn-sm" onclick="fillDemo('admin@sespt.pt')">Admin SESPT</button>
          <button class="btn btn-ghost btn-sm" onclick="fillDemo('membro@incose.pt')">Membro Ativo</button>
          <button class="btn btn-ghost btn-sm" onclick="fillDemo('cab@embraer.pt')">CAB Rep.</button>
          <button class="btn btn-ghost btn-sm" onclick="fillDemo('estudante@ist.pt')">Estudante (inativo)</button>
        </div>
      </div>

      <!-- Register panel -->
      <div id="auth-register" style="display:none">
        <div class="alert alert-info">ğŸ“‹ ApÃ³s registo, a conta aguarda aprovaÃ§Ã£o SESPT.</div>
        <div class="form-group"><label>Nome completo</label><input type="text" placeholder="O seu nome"></div>
        <div class="form-group"><label>Email profissional</label><input type="email" placeholder="email@empresa.pt"></div>
        <div class="form-group"><label>Tipo de adesÃ£o</label>
          <select>
            <option>Membro Individual (80â‚¬/ano)</option>
            <option>Membro Estudante (30â‚¬/ano)</option>
            <option>Empresa CAB (800â‚¬/ano)</option>
          </select>
        </div>
        <button class="btn btn-teal btn-md btn-full">Submeter pedido de adesÃ£o â†’</button>
      </div>
    </div>
  </div>
</div>

<!-- â–‘â–‘â–‘ EVENT DETAIL MODAL â–‘â–‘â–‘ -->
<div class="modal-overlay" id="modal-event" onclick="if(event.target===this)closeModal('modal-event')">
  <div class="modal-box" style="max-width:520px">
    <div class="modal-top-bar"></div>
    <div class="modal-body">
      <div class="modal-header">
        <h3 id="ev-modal-title">Evento</h3>
        <button class="modal-close" onclick="closeModal('modal-event')">âœ•</button>
      </div>
      <div id="ev-modal-body"></div>
    </div>
  </div>
</div>

<!-- â–‘â–‘â–‘ UTILITY BAR â–‘â–‘â–‘ -->
<div id="util-bar">
  <div class="lang-toggle">
    <button class="active" onclick="setLang('pt',this)">PT</button>
    <button onclick="setLang('en',this)">EN</button>
  </div>
  <a href="https://linkedin.com" target="_blank">LinkedIn â†—</a>
  <a href="https://youtube.com" target="_blank">YouTube â†—</a>
  <span id="util-user-area">
    <button class="btn btn-primary btn-sm" onclick="openModal('modal-auth')">ğŸ” Login / Registo</button>
  </span>
</div>

<!-- â–‘â–‘â–‘ HEADER â–‘â–‘â–‘ -->
<header>
  <div class="logo-group">
    <button onclick="navTo('home')" style="display:flex;align-items:center;gap:.7rem;background:none;border:none;cursor:pointer">
      <div class="logo-mark">INCOSE</div>
      <div class="logo-text">
        <div class="main">INCOSE Portugal</div>
        <div class="sub">CapÃ­tulo Oficial</div>
      </div>
    </button>
    <div class="logo-divider"></div>
    <span class="logo-sespt">SESPT</span>
  </div>

  <nav id="main-nav">
    <button class="active" onclick="navTo('home')">InÃ­cio</button>
    <button onclick="navTo('about')">Sobre NÃ³s</button>
    <button onclick="navTo('events')">Eventos</button>
    <button onclick="navTo('knowledge')">Knowledge</button>
    <button onclick="navTo('jobs')">Carreiras</button>
    <button onclick="navTo('membership')">AdesÃ£o</button>
    <button id="nav-dashboard" style="display:none" onclick="navTo('dashboard')">Dashboard</button>
    <button id="nav-admin" style="display:none" onclick="navTo('admin')">Backoffice</button>
  </nav>

  <button class="btn btn-teal btn-sm header-cta" onclick="navTo('membership')">Aderir â†’</button>
</header>

<!-- â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  PAGES  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ -->
<main>

<!-- â”€â”€ HOME â”€â”€ -->
<div id="page-home" class="page active">
  <!-- HERO -->
  <section id="hero">
    <div class="hero-bg-grid"></div>
    <div class="hero-glow"></div>
    <div class="container hero-content">
      <div class="hero-left">
        <div class="hero-badge"><span class="hero-badge-dot"></span><span id="hero-badge-txt">CapÃ­tulo oficial INCOSE em Portugal</span></div>
        <h1 class="hero-h1" id="hero-h1">Engenharia de Sistemas<br><span class="grad">com raÃ­zes atlÃ¢nticas</span></h1>
        <p class="hero-p" id="hero-p">A comunidade portuguesa de profissionais INCOSE. FormaÃ§Ã£o certificada, networking, Working Groups ativos e representaÃ§Ã£o no ecossistema global de Systems Engineering.</p>
        <div class="hero-ctas">
          <button class="btn btn-primary btn-lg" style="box-shadow:0 4px 24px rgba(0,53,128,.4)" onclick="navTo('membership')" id="hero-cta1">Tornar-me sÃ³cio â†’</button>
          <button class="btn btn-ghost btn-lg" onclick="navTo('events')" id="hero-cta2">Ver eventos</button>
        </div>
      </div>
      <div class="hero-right">
        <div class="hero-card">
          <div class="section-label" style="margin-bottom:1.1rem">CapÃ­tulo em nÃºmeros</div>
          <div class="hero-stats">
            <div style="text-align:center"><div class="stat-num">240+</div><div class="stat-label">Membros ativos</div></div>
            <div style="text-align:center"><div class="stat-num">18</div><div class="stat-label">Empresas CAB</div></div>
            <div style="text-align:center"><div class="stat-num">32</div><div class="stat-label">Eventos 2025</div></div>
            <div style="text-align:center"><div class="stat-num">4</div><div class="stat-label">Working Groups</div></div>
          </div>
          <div class="next-event-box">
            <div class="next-event-label">âš¡ PrÃ³ximo evento</div>
            <div style="font-weight:600;font-size:.9rem;margin-bottom:.2rem">INCOSE Portugal Summit 2026</div>
            <div style="font-size:.77rem;color:var(--muted)">15 de marÃ§o Â· Lisboa Â· Presencial + Online</div>
            <button class="btn btn-teal btn-sm" style="margin-top:.65rem" onclick="navTo('events')">Inscrever â†’</button>
          </div>
        </div>
      </div>
    </div>
    <div class="hero-wave">
      <svg viewBox="0 0 1440 80" preserveAspectRatio="none" style="width:100%;height:100%">
        <path d="M0,40 C360,70 720,10 1080,40 C1260,55 1380,30 1440,40 L1440,80 L0,80Z" fill="#003580"/>
      </svg>
    </div>
  </section>

  <!-- NEWS preview -->
  <section style="padding:4rem 0;background:#050c1a">
    <div class="container">
      <div style="display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:2rem;flex-wrap:wrap;gap:1rem">
        <div><p class="section-label">Ãšltimas notÃ­cias</p><h2 class="section-title">Acontece na <span class="grad">comunidade</span></h2></div>
        <button class="btn btn-ghost btn-sm">Ver todas â†’</button>
      </div>
      <div class="news-grid" id="home-news"></div>
    </div>
  </section>

  <!-- QUICK ACTIONS -->
  <section style="padding:4rem 0">
    <div class="container">
      <p class="section-label">O que oferecemos</p>
      <h2 class="section-title">Tudo o que precisa em <span class="grad">SE</span></h2>
      <div class="quick-grid">
        <div class="card quick-card" onclick="navTo('events')">
          <div style="font-size:1.8rem;margin-bottom:.65rem">ğŸ“</div>
          <div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.88rem;margin-bottom:.2rem">CertificaÃ§Ã£o CSEP/ASEP</div>
          <div style="font-size:.74rem;color:var(--muted)">Prep-courses e exames</div>
        </div>
        <div class="card quick-card" onclick="navTo('jobs')">
          <div style="font-size:1.8rem;margin-bottom:.65rem">ğŸ’¼</div>
          <div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.88rem;margin-bottom:.2rem">Job Board SE</div>
          <div style="font-size:.74rem;color:var(--muted)">Vagas em empresas CAB</div>
        </div>
        <div class="card quick-card" onclick="navTo('knowledge')">
          <div style="font-size:1.8rem;margin-bottom:.65rem">ğŸ“š</div>
          <div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.88rem;margin-bottom:.2rem">Knowledge Base</div>
          <div style="font-size:.74rem;color:var(--muted)">Handbook, templates, webinars</div>
        </div>
        <div class="card quick-card" onclick="navTo('about')">
          <div style="font-size:1.8rem;margin-bottom:.65rem">ğŸ¤</div>
          <div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.88rem;margin-bottom:.2rem">Working Groups</div>
          <div style="font-size:.74rem;color:var(--muted)">MBSE Â· Defense Â· Space</div>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- â”€â”€ ABOUT â”€â”€ -->
<div id="page-about" class="page">
  <div class="container">
    <p class="section-label">Quem somos</p>
    <h1 class="section-title">Sobre o <span class="grad">CapÃ­tulo</span></h1>
    <div class="about-grid">
      <div>
        <p style="color:rgba(255,255,255,.75);line-height:1.8;margin-bottom:1.1rem;font-size:.94rem">O INCOSE Portugal Ã© o capÃ­tulo oficial da International Council on Systems Engineering em Portugal. Representado legalmente pela <strong style="color:var(--teal2)">SESPT â€“ Sociedade de Engenharia de Sistemas de Portugal</strong>, o capÃ­tulo reÃºne profissionais, acadÃ©micos e empresas comprometidos com a excelÃªncia em Engenharia de Sistemas.</p>
        <p style="color:rgba(255,255,255,.75);line-height:1.8;margin-bottom:1.5rem;font-size:.94rem">Fundado em 2025, cresceu rapidamente para mais de 240 membros e 18 empresas parceiras CAB, tornando-se polo de referÃªncia na comunidade europeia de SE.</p>
        <h3 style="margin-bottom:.9rem">Working Groups ativos</h3>
        <div class="wg-grid">
          <div class="card wg-card"><div style="font-size:1.3rem;margin-bottom:.35rem">ğŸ—ï¸</div><div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.83rem;margin-bottom:.15rem">MBSE &amp; SysML v2</div><div style="font-size:.73rem;color:var(--muted)">ModelaÃ§Ã£o de sistemas complexos</div></div>
          <div class="card wg-card"><div style="font-size:1.3rem;margin-bottom:.35rem">ğŸ›¡ï¸</div><div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.83rem;margin-bottom:.15rem">Defense Systems</div><div style="font-size:.73rem;color:var(--muted)">Sistemas de defesa e seguranÃ§a</div></div>
          <div class="card wg-card"><div style="font-size:1.3rem;margin-bottom:.35rem">ğŸš€</div><div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.83rem;margin-bottom:.15rem">Space Systems</div><div style="font-size:.73rem;color:var(--muted)">Projetos espaciais ECSS</div></div>
          <div class="card wg-card"><div style="font-size:1.3rem;margin-bottom:.35rem">ğŸŒ±</div><div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.83rem;margin-bottom:.15rem">Sustainability in SE</div><div style="font-size:.73rem;color:var(--muted)">SE aplicado Ã  sustentabilidade</div></div>
        </div>
      </div>
      <div>
        <div class="card-flat" style="padding:1.4rem;margin-bottom:1rem">
          <h4 style="margin-bottom:1rem">DireÃ§Ã£o SESPT</h4>
          <div style="display:flex;flex-direction:column;gap:.1rem">
            <div style="display:flex;justify-content:space-between;padding:.38rem 0;border-bottom:1px solid var(--border);font-size:.82rem"><span style="font-weight:600">Sofia Andrade</span><span style="color:var(--muted)">Presidente</span></div>
            <div style="display:flex;justify-content:space-between;padding:.38rem 0;border-bottom:1px solid var(--border);font-size:.82rem"><span style="font-weight:600">JoÃ£o Figueiredo</span><span style="color:var(--muted)">Vice-Presidente</span></div>
            <div style="display:flex;justify-content:space-between;padding:.38rem 0;border-bottom:1px solid var(--border);font-size:.82rem"><span style="font-weight:600">Marta Costa</span><span style="color:var(--muted)">Tesoureira</span></div>
            <div style="display:flex;justify-content:space-between;padding:.38rem 0;font-size:.82rem"><span style="font-weight:600">Pedro Nunes</span><span style="color:var(--muted)">SecretÃ¡rio</span></div>
          </div>
        </div>
        <div class="topbox">
          <p style="font-size:.78rem;color:var(--muted);line-height:1.65"><strong style="color:rgba(255,255,255,.55)">IdentificaÃ§Ã£o legal:</strong><br>SESPT â€“ Sociedade de Engenharia de Sistemas de Portugal<br>NIF: [inserir nÃºmero]<br>Sede: Lisboa, Portugal</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- â”€â”€ EVENTS â”€â”€ -->
<div id="page-events" class="page">
  <div class="container">
    <p class="section-label">Agenda</p>
    <h1 class="section-title">PrÃ³ximos <span class="grad">Eventos</span></h1>
    <p class="section-sub">Membros com quota ativa tÃªm desconto automÃ¡tico. Clique em "Detalhes" para ver preÃ§os e inscrever.</p>
    <div class="filter-bar">
      <span class="filter-label">Formato:</span>
      <button class="btn btn-teal btn-sm" data-filter-format="all" onclick="filterEvents('format','all',this)">Todos</button>
      <button class="btn btn-ghost btn-sm" data-filter-format="presencial" onclick="filterEvents('format','presencial',this)">Presencial</button>
      <button class="btn btn-ghost btn-sm" data-filter-format="online" onclick="filterEvents('format','online',this)">Online</button>
      <span class="filter-label" style="margin-left:.6rem">Tipo:</span>
      <button class="btn btn-teal btn-sm" data-filter-type="all" onclick="filterEvents('type','all',this)">Todos</button>
      <button class="btn btn-ghost btn-sm" data-filter-type="summit" onclick="filterEvents('type','summit',this)">Summit</button>
      <button class="btn btn-ghost btn-sm" data-filter-type="webinar" onclick="filterEvents('type','webinar',this)">Webinar</button>
      <button class="btn btn-ghost btn-sm" data-filter-type="workshop" onclick="filterEvents('type','workshop',this)">Workshop</button>
      <button class="btn btn-ghost btn-sm" data-filter-type="wg" onclick="filterEvents('type','wg',this)">Working Group</button>
    </div>
    <div class="events-list" id="events-list"></div>
  </div>
</div>

<!-- â”€â”€ KNOWLEDGE â”€â”€ -->
<div id="page-knowledge" class="page">
  <div class="container">
    <p class="section-label">Biblioteca</p>
    <h1 class="section-title">Knowledge <span class="grad">Base</span></h1>
    <p class="section-sub">Materiais tÃ©cnicos exclusivos para membros com quota ativa. Documentos pÃºblicos disponÃ­veis para todos.</p>
    <div id="knowledge-alert"></div>
    <div style="display:flex;gap:.4rem;flex-wrap:wrap;margin-bottom:.9rem">
      <input id="doc-search" style="background:rgba(255,255,255,.05);border:1px solid var(--border);border-radius:6px;padding:.55rem .9rem;color:#fff;font-family:'DM Sans',sans-serif;font-size:.85rem;outline:none;max-width:300px;flex:1" placeholder="ğŸ” Pesquisar..." oninput="renderDocs()">
    </div>
    <div style="display:flex;gap:.4rem;flex-wrap:wrap;margin-bottom:1.8rem" id="doc-cats"></div>
    <div class="docs-grid" id="docs-grid"></div>
  </div>
</div>

<!-- â”€â”€ JOBS â”€â”€ -->
<div id="page-jobs" class="page">
  <div class="container">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.8rem;flex-wrap:wrap;gap:1rem">
      <div>
        <p class="section-label">Portal de Carreiras</p>
        <h1 class="section-title">Job Board <span class="grad">SE</span></h1>
        <p class="section-sub" style="margin-bottom:0">Vagas publicadas por empresas CAB. Candidatura 1-click para membros com perfil completo.</p>
      </div>
      <button id="btn-post-job" class="btn btn-teal btn-md" style="display:none" onclick="showPostJob()">+ Publicar vaga</button>
    </div>
    <div id="jobs-alert" style="margin:1rem 0"></div>
    <div style="display:flex;gap:.8rem;margin-bottom:.9rem;flex-wrap:wrap">
      <input id="job-search" style="background:rgba(255,255,255,.05);border:1px solid var(--border);border-radius:6px;padding:.55rem .9rem;color:#fff;font-family:'DM Sans',sans-serif;font-size:.85rem;outline:none;max-width:300px;flex:1" placeholder="ğŸ” Pesquisar cargo ou empresa..." oninput="renderJobs()">
    </div>
    <div style="display:flex;gap:.4rem;flex-wrap:wrap;margin-bottom:1.8rem" id="job-tag-filters"></div>
    <div class="jobs-grid" id="jobs-grid"></div>

    <!-- Post job form (hidden) -->
    <div id="post-job-form" style="display:none;margin-top:2rem">
      <h3 style="margin-bottom:1rem">Publicar nova vaga</h3>
      <div class="card-flat" style="padding:1.5rem">
        <div style="display:grid;grid-template-columns:2fr 1fr;gap:.8rem">
          <div class="form-group"><label>TÃ­tulo do cargo *</label><input id="nj-title" type="text" placeholder="Systems Engineer â€“ ..."></div>
          <div class="form-group"><label>LocalizaÃ§Ã£o</label><input id="nj-loc" type="text" placeholder="Lisboa / Remoto"></div>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:.8rem">
          <div class="form-group"><label>Tipo</label><select id="nj-type"><option>Full-time</option><option>Part-time</option><option>Contrato</option><option>Bolsa FCT</option><option>EstÃ¡gio</option></select></div>
          <div class="form-group"><label>Tags (separadas por vÃ­rgula)</label><input id="nj-tags" type="text" placeholder="MBSE, SysML, Space"></div>
        </div>
        <div class="form-group"><label>DescriÃ§Ã£o da vaga</label><textarea id="nj-desc" placeholder="DescriÃ§Ã£o detalhada..."></textarea></div>
        <div class="alert alert-warn">â³ A vaga ficarÃ¡ pendente atÃ© aprovaÃ§Ã£o pelo Admin.</div>
        <div style="display:flex;gap:.7rem;margin-top:.5rem">
          <button class="btn btn-primary btn-md" onclick="submitJob()">Submeter para aprovaÃ§Ã£o â†’</button>
          <button class="btn btn-ghost btn-md" onclick="document.getElementById('post-job-form').style.display='none'">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- â”€â”€ MEMBERSHIP â”€â”€ -->
<div id="page-membership" class="page">
  <div class="container">
    <p class="section-label">Seja sÃ³cio</p>
    <h1 class="section-title">Planos de <span class="grad">AdesÃ£o</span></h1>
    <p class="section-sub">FaÃ§a parte da comunidade portuguesa de Systems Engineering. Acesso imediato aos recursos, descontos e representaÃ§Ã£o internacional.</p>
    <div class="plans-grid">
      <div class="card plan-card">
        <div style="font-size:.73rem;font-weight:600;color:var(--muted);margin-bottom:.35rem">Estudante de universidade portuguesa</div>
        <h3 style="margin-bottom:.8rem">Membro Estudante</h3>
        <div style="margin-bottom:1.1rem"><span class="plan-price-num" style="color:var(--muted)">30â‚¬</span><span style="font-size:.78rem;color:var(--muted)">/ano</span></div>
        <ul class="plan-benefits">
          <li>Acesso Ã  biblioteca</li><li>Desconto em eventos</li><li>Webinars gravados</li><li>Certificate Wallet</li><li>Member Directory (opt-in)</li>
        </ul>
        <button class="btn btn-ghost btn-md btn-full" onclick="openModal('modal-auth')">Aderir agora â†’</button>
      </div>
      <div class="card plan-card featured">
        <div class="plan-popular">Mais popular</div>
        <div style="font-size:.73rem;font-weight:600;color:var(--muted);margin-bottom:.35rem">Profissional de SE</div>
        <h3 style="margin-bottom:.8rem">Membro Individual</h3>
        <div style="margin-bottom:1.1rem"><span class="plan-price-num" style="color:var(--teal2)">80â‚¬</span><span style="font-size:.78rem;color:var(--muted)">/ano</span></div>
        <ul class="plan-benefits">
          <li>Tudo do Estudante</li><li>FÃ³rum privado</li><li>Voto nas eleiÃ§Ãµes</li><li>Desconto acrescido em formaÃ§Ãµes</li><li>Acesso ao IS internacional</li>
        </ul>
        <button class="btn btn-teal btn-md btn-full" onclick="openModal('modal-auth')">Aderir agora â†’</button>
      </div>
      <div class="card plan-card">
        <div style="font-size:.73rem;font-weight:600;color:var(--muted);margin-bottom:.35rem">Empresa Â· 5 seats incluÃ­dos</div>
        <h3 style="margin-bottom:.8rem">CAB â€“ Corporate</h3>
        <div style="margin-bottom:1.1rem"><span class="plan-price-num" style="color:var(--cork)">800â‚¬</span><span style="font-size:.78rem;color:var(--muted)">/ano</span></div>
        <ul class="plan-benefits">
          <li>5 membros incluÃ­dos</li><li>Perfil empresa no site</li><li>Publicar vagas (Job Board)</li><li>RepositÃ³rio doc. estratÃ©gicos</li><li>PresenÃ§a no Summit anual</li>
        </ul>
        <button class="btn btn-ghost btn-md btn-full" onclick="openModal('modal-auth')">Aderir agora â†’</button>
      </div>
    </div>
    <div class="topbox" style="text-align:center">
      <p style="font-size:.81rem;color:var(--muted)">â„¹ï¸ As quotas internacionais INCOSE sÃ£o pagas separadamente em <a href="https://www.incose.org" target="_blank" style="color:var(--teal2)">incose.org â†—</a>. A SESPT emite fatura nos termos legais portugueses.</p>
    </div>
  </div>
</div>

<!-- â”€â”€ DASHBOARD â”€â”€ -->
<div id="page-dashboard" class="page">
  <div class="container">
    <div id="dash-locked" style="text-align:center;padding:4rem 0">
      <div style="font-size:3rem;margin-bottom:1rem">ğŸ”’</div>
      <h2 style="margin-bottom:.5rem">Ãrea privada</h2>
      <p style="color:var(--muted);margin-bottom:1.5rem">FaÃ§a login para aceder ao seu dashboard.</p>
      <button class="btn btn-primary btn-lg" onclick="openModal('modal-auth')">Entrar â†’</button>
    </div>
    <div id="dash-content" style="display:none">
      <div class="user-hero">
        <div class="user-avatar" id="dash-avatar">CM</div>
        <div>
          <h1 style="font-size:1.45rem;font-weight:800" id="dash-greeting">OlÃ¡, Carlos!</h1>
          <div style="display:flex;gap:.5rem;margin-top:.3rem;flex-wrap:wrap" id="dash-badges"></div>
        </div>
      </div>
      <div class="dash-tabs">
        <button class="dash-tab active" onclick="switchDashTab('overview',this)">Resumo</button>
        <button class="dash-tab" onclick="switchDashTab('profile',this)">Perfil</button>
        <button class="dash-tab" onclick="switchDashTab('payments',this)">Pagamentos</button>
        <button class="dash-tab" onclick="switchDashTab('wallet',this)">Certificate Wallet</button>
      </div>
      <!-- Overview -->
      <div class="dash-panel active" id="dp-overview">
        <div class="stats-row">
          <div class="card-flat stat-box"><div style="font-size:1.5rem;margin-bottom:.3rem">ğŸ…</div><div class="val">3</div><div class="lbl">Certificados</div></div>
          <div class="card-flat stat-box"><div style="font-size:1.5rem;margin-bottom:.3rem">ğŸ“…</div><div class="val">2</div><div class="lbl">Eventos inscritos</div></div>
          <div class="card-flat stat-box"><div style="font-size:1.5rem;margin-bottom:.3rem">ğŸ“¥</div><div class="val">5</div><div class="lbl">Docs transferidos</div></div>
          <div class="card-flat stat-box"><div style="font-size:1.5rem;margin-bottom:.3rem">ğŸ”‘</div><div class="val" id="quota-status-val">Ativo</div><div class="lbl">Estado da quota</div></div>
        </div>
        <div id="quota-alert"></div>
      </div>
      <!-- Profile -->
      <div class="dash-panel" id="dp-profile" style="max-width:520px">
        <div class="form-group"><label>Nome completo</label><input id="prof-name" type="text"></div>
        <div class="form-group"><label>Email</label><input id="prof-email" type="email" readonly style="opacity:.65"></div>
        <div class="form-group"><label>Tipo de membro</label><input id="prof-type" type="text" readonly style="opacity:.65"></div>
        <div class="form-group"><label>N.Âº sÃ³cio INCOSE</label><input value="INC-PT-00342" type="text" readonly style="opacity:.65"></div>
        <div class="form-group">
          <label>Opt-in Member Directory</label>
          <div style="display:flex;align-items:center;gap:.6rem;margin-top:.3rem">
            <input type="checkbox" checked style="accent-color:var(--teal)">
            <span style="font-size:.82rem;color:rgba(255,255,255,.7)">VisÃ­vel para outros membros no diretÃ³rio</span>
          </div>
        </div>
        <div class="form-group">
          <label>CV / CurrÃ­culo (para 1-Click Apply)</label>
          <div class="card-flat" style="padding:1rem;text-align:center;border-style:dashed">
            <p style="font-size:.81rem;color:var(--muted)">Arraste o CV aqui ou clique para fazer upload</p>
            <button class="btn btn-ghost btn-sm" style="margin-top:.5rem">â¬† Upload PDF</button>
          </div>
        </div>
        <button class="btn btn-primary btn-md">Guardar alteraÃ§Ãµes</button>
      </div>
      <!-- Payments -->
      <div class="dash-panel" id="dp-payments">
        <table class="dash-table">
          <thead><tr><th>DescriÃ§Ã£o</th><th>Valor</th><th>Data</th><th>Estado</th><th></th></tr></thead>
          <tbody>
            <tr><td>Quota anual 2026 â€“ Membro Individual</td><td style="font-weight:700">80.00â‚¬</td><td style="color:var(--muted)">2026-01-10</td><td><span class="badge badge-green">âœ“ pago</span></td><td><button class="btn btn-ghost btn-sm">Fatura</button></td></tr>
            <tr><td>Quota anual 2025 â€“ Membro Individual</td><td style="font-weight:700">80.00â‚¬</td><td style="color:var(--muted)">2025-01-12</td><td><span class="badge badge-green">âœ“ pago</span></td><td><button class="btn btn-ghost btn-sm">Fatura</button></td></tr>
            <tr><td>Summit 2025 â€“ Bilhete membro</td><td style="font-weight:700">60.00â‚¬</td><td style="color:var(--muted)">2025-10-20</td><td><span class="badge badge-green">âœ“ pago</span></td><td><button class="btn btn-ghost btn-sm">Fatura</button></td></tr>
          </tbody>
        </table>
      </div>
      <!-- Wallet -->
      <div class="dash-panel" id="dp-wallet">
        <p style="color:var(--muted);margin-bottom:1.4rem;font-size:.87rem">Certificados gerados automaticamente apÃ³s check-in em eventos.</p>
        <div class="card-flat cert-row"><div style="font-size:1.7rem">ğŸ…</div><div style="flex:1"><div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.88rem">INCOSE Portugal Summit 2025 â€“ ParticipaÃ§Ã£o</div><div style="font-size:.73rem;color:var(--muted)">2025-11-15 Â· CERT-2025-001</div></div><button class="btn btn-ghost btn-sm">â¬‡ PDF</button></div>
        <div class="card-flat cert-row"><div style="font-size:1.7rem">ğŸ…</div><div style="flex:1"><div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.88rem">ASEP Prep-Course â€“ Dezembro 2025</div><div style="font-size:.73rem;color:var(--muted)">2025-12-08 Â· CERT-2025-002</div></div><button class="btn btn-ghost btn-sm">â¬‡ PDF</button></div>
        <div class="card-flat cert-row"><div style="font-size:1.7rem">ğŸ…</div><div style="flex:1"><div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.88rem">Webinar MBSE Intro â€“ Novembro 2025</div><div style="font-size:.73rem;color:var(--muted)">2025-11-28 Â· CERT-2025-003</div></div><button class="btn btn-ghost btn-sm">â¬‡ PDF</button></div>
      </div>
    </div>
  </div>
</div>

<!-- â”€â”€ ADMIN â”€â”€ -->
<div id="page-admin" class="page">
  <div class="container">
    <div id="admin-locked" style="text-align:center;padding:4rem 0">
      <div style="font-size:3rem;margin-bottom:1rem">ğŸš«</div>
      <h2 style="margin-bottom:.5rem">Acesso restrito</h2>
      <p style="color:var(--muted)">Apenas administradores SESPT tÃªm acesso ao Backoffice.</p>
    </div>
    <div id="admin-content" style="display:none">
      <p class="section-label">AdministraÃ§Ã£o SESPT</p>
      <h1 class="section-title">Back<span class="grad">office</span></h1>
      <div class="admin-stats">
        <div class="card-flat" style="padding:1rem;display:flex;gap:.8rem;align-items:center"><div style="font-size:1.5rem">ğŸ‘¥</div><div><div style="font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:800">240</div><div style="font-size:.71rem;color:var(--muted)">Membros ativos</div></div></div>
        <div class="card-flat" style="padding:1rem;display:flex;gap:.8rem;align-items:center"><div style="font-size:1.5rem">ğŸ¢</div><div><div style="font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:800">18</div><div style="font-size:.71rem;color:var(--muted)">Empresas CAB</div></div></div>
        <div class="card-flat" style="padding:1rem;display:flex;gap:.8rem;align-items:center"><div style="font-size:1.5rem">â³</div><div><div style="font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:800" id="admin-pending-count">1</div><div style="font-size:.71rem;color:var(--muted)">Vagas pendentes</div></div></div>
        <div class="card-flat" style="padding:1rem;display:flex;gap:.8rem;align-items:center"><div style="font-size:1.5rem">ğŸ“…</div><div><div style="font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:800">5</div><div style="font-size:.71rem;color:var(--muted)">Eventos futuros</div></div></div>
      </div>
      <div class="dash-tabs">
        <button class="dash-tab active" onclick="switchAdminTab('news',this)">ğŸ“° NotÃ­cias</button>
        <button class="dash-tab" onclick="switchAdminTab('pending',this)">ğŸ’¼ Vagas pendentes</button>
        <button class="dash-tab" onclick="switchAdminTab('users',this)">ğŸ‘¥ Utilizadores</button>
        <button class="dash-tab" onclick="switchAdminTab('newsletter',this)">âœ‰ Newsletter</button>
      </div>

      <!-- News CMS -->
      <div class="dash-panel active" id="adp-news">
        <div class="card-flat" style="padding:1.4rem;margin-bottom:1.4rem">
          <h3 style="margin-bottom:1rem">Criar novo artigo</h3>
          <div style="display:grid;grid-template-columns:2fr 1fr 0.4fr;gap:.8rem;margin-bottom:.8rem">
            <div class="form-group" style="margin:0"><label>TÃ­tulo *</label><input id="na-title" placeholder="TÃ­tulo do artigo..."></div>
            <div class="form-group" style="margin:0"><label>Categoria</label><select id="na-cat"><option>Destaque</option><option>CAB</option><option>CertificaÃ§Ã£o</option><option>Internacional</option><option>Eventos</option></select></div>
            <div class="form-group" style="margin:0"><label>Ãcone</label><input id="na-icon" value="ğŸ“°" maxlength="2"></div>
          </div>
          <div class="form-group"><label>Resumo</label><textarea id="na-excerpt" placeholder="Breve descriÃ§Ã£o..."></textarea></div>
          <button class="btn btn-teal btn-md" onclick="addArticle()">Publicar artigo â†’</button>
        </div>
        <h3 style="margin-bottom:.9rem">Artigos publicados</h3>
        <div id="admin-news-list"></div>
      </div>

      <!-- Pending jobs -->
      <div class="dash-panel" id="adp-pending">
        <h3 style="margin-bottom:1rem">Vagas aguardando aprovaÃ§Ã£o</h3>
        <div id="admin-pending-list"></div>
      </div>

      <!-- Users -->
      <div class="dash-panel" id="adp-users">
        <h3 style="margin-bottom:1rem">GestÃ£o de utilizadores</h3>
        <table class="dash-table" id="admin-users-table">
          <thead><tr><th>Nome</th><th>Email</th><th>Tipo</th><th>Quota</th><th>AÃ§Ãµes</th></tr></thead>
          <tbody id="admin-users-tbody"></tbody>
        </table>
      </div>

      <!-- Newsletter -->
      <div class="dash-panel" id="adp-newsletter">
        <h3 style="margin-bottom:.8rem">Gerador de Newsletter</h3>
        <p style="font-size:.84rem;color:var(--muted);margin-bottom:1.3rem">Selecione as notÃ­cias â†’ HTML automÃ¡tico para Mailchimp.</p>
        <div id="newsletter-news-list" style="display:flex;flex-direction:column;gap:.55rem;max-width:600px;margin-bottom:1.4rem"></div>
        <div style="display:flex;gap:.7rem">
          <button class="btn btn-teal btn-md">âš¡ Gerar HTML Newsletter</button>
          <button class="btn btn-ghost btn-md">ğŸ“¤ Enviar via Mailchimp</button>
        </div>
      </div>
    </div>
  </div>
</div>

</main>

<!-- â–‘â–‘â–‘ FOOTER â–‘â–‘â–‘ -->
<footer>
  <div class="footer-cols">
    <div class="footer-col">
      <div style="display:flex;align-items:center;gap:.65rem;margin-bottom:.8rem">
        <div class="logo-mark" style="width:32px;height:32px;font-size:.52rem">INC</div>
        <div style="font-family:'Syne',sans-serif;font-weight:700;font-size:.88rem">INCOSE Portugal</div>
      </div>
      <p>CapÃ­tulo oficial INCOSE. Operado pela SESPT desde 2025.</p>
      <div class="footer-social">
        <button class="social-btn">in</button>
        <button class="social-btn">â–¶</button>
        <button class="social-btn">âœ‰</button>
      </div>
    </div>
    <div class="footer-col">
      <h4>Quick Links</h4>
      <a onclick="navTo('about')">Sobre NÃ³s</a>
      <a onclick="navTo('membership')">Membership</a>
      <a onclick="navTo('events')">Eventos</a>
      <a onclick="navTo('knowledge')">Knowledge Base</a>
      <a onclick="navTo('jobs')">Job Board</a>
      <a href="https://www.incose.org" target="_blank">INCOSE Global â†—</a>
    </div>
    <div class="footer-col">
      <h4>Contacto SESPT</h4>
      <p>Rua [a completar]<br>1000-000 Lisboa</p>
      <a href="mailto:geral@sespt.pt">geral@sespt.pt</a>
      <a href="mailto:membership@sespt.pt">membership@sespt.pt</a>
    </div>
    <div class="footer-col">
      <h4>Legal</h4>
      <a href="#">PolÃ­tica de Privacidade</a>
      <a href="#">Termos de UtilizaÃ§Ã£o</a>
      <a href="#">PolÃ­tica de Cookies</a>
      <a href="#">RGPD â€“ Right to be Forgotten</a>
      <a href="#">Estatutos SESPT</a>
    </div>
  </div>
  <div class="footer-bottom">
    <p><strong>O CapÃ­tulo INCOSE Portugal Ã© legalmente representado e operado pela SESPT â€“ Sociedade de Engenharia de Sistemas de Portugal, NIF [inserir nÃºmero].</strong><br>Â© 2026 SESPT. INCOSEÂ® marca registada da INCOSE. incose.pt</p>
    <div class="footer-links"><a href="#">Mapa do site</a><a href="#">Acessibilidade</a><a href="#">Contactos</a></div>
  </div>
</footer>

<!-- â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  JAVASCRIPT  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ -->
<script>
// â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const USERS = {
  "admin@sespt.pt":   { name:"Sofia Andrade",  role:"admin",   quota:true,  avatar:"SA", type:"Admin SESPT" },
  "membro@incose.pt": { name:"Carlos Mendes",  role:"member",  quota:true,  avatar:"CM", type:"Membro Individual" },
  "cab@embraer.pt":   { name:"Ana Ferreira",   role:"cab",     quota:true,  avatar:"AF", type:"CAB â€“ Embraer" },
  "estudante@ist.pt": { name:"TomÃ¡s Lima",     role:"student", quota:false, avatar:"TL", type:"Membro Estudante" },
};
const DEMO_PASS = "demo123";

let currentUser = null;
let evtFilterFormat = "all";
let evtFilterType   = "all";
let docFilterCat    = "all";
let jobFilterTag    = "all";
let appliedJobs     = [];
let registeredEvts  = [];

const EVENTS = [
  { id:1, title:"INCOSE Portugal Summit 2026",          date:"2026-03-15", loc:"Centro de Congressos do Estoril, Lisboa", format:"presencial", type:"summit",   desc:"A maior conferÃªncia anual do capÃ­tulo, com keynotes internacionais, workshops e networking.", price:{pub:120,mem:60,stu:25},  cap:300, reg:187 },
  { id:2, title:"Webinar: MBSE com SysML v2",           date:"2026-03-28", loc:"Online Â· Zoom",                          format:"online",     type:"webinar",  desc:"IntroduÃ§Ã£o prÃ¡tica ao SysML v2 com exemplos reais de sistemas aeroespaciais.",               price:{pub:20, mem:0, stu:0},   cap:200, reg:89  },
  { id:3, title:"ASEP Prep-Course â€“ Lisboa (Primavera)",date:"2026-04-12", loc:"Lisboa Â· Local a confirmar",             format:"presencial", type:"workshop", desc:"3 dias intensivos de preparaÃ§Ã£o para o exame ASEP com instrutores certificados.",            price:{pub:400,mem:280,stu:150},cap:30,  reg:22  },
  { id:4, title:"WG Defense Systems â€“ ReuniÃ£o Q2",      date:"2026-05-24", loc:"Online Â· Teams",                        format:"online",     type:"wg",       desc:"ReuniÃ£o aberta do Working Group de Defense Systems.",                                         price:{pub:0,  mem:0, stu:0},   cap:100, reg:34  },
  { id:5, title:"Workshop: Requirements Eng. para ESA", date:"2026-06-10", loc:"Porto Â· Hotel Sheraton",                format:"presencial", type:"workshop", desc:"Workshop focado nos standards ECSS para engenharia de requisitos em projetos espaciais.",      price:{pub:350,mem:220,stu:120},cap:25,  reg:18  },
];

const DOCS = [
  { id:1, title:"INCOSE SE Handbook v5.0 (PT)",          type:"PDF",  size:"12.4 MB", cat:"handbook", restricted:true,  icon:"ğŸ“˜", date:"2025-12" },
  { id:2, title:"Template: Requirements Baseline",       type:"DOCX", size:"340 KB",  cat:"template", restricted:true,  icon:"ğŸ“‹", date:"2025-11" },
  { id:3, title:"Template: System Architecture (SysML)", type:"ZIP",  size:"2.1 MB",  cat:"template", restricted:true,  icon:"ğŸ—ï¸", date:"2025-10" },
  { id:4, title:"Webinar: IntroduÃ§Ã£o ao MBSE (Nov 2025)",type:"MP4",  size:"1.2 GB",  cat:"webinar",  restricted:true,  icon:"ğŸ¥", date:"2025-11" },
  { id:5, title:"Webinar: SysML v2 Overview (Jan 2026)", type:"MP4",  size:"890 MB",  cat:"webinar",  restricted:true,  icon:"ğŸ¥", date:"2026-01" },
  { id:6, title:"Guia: ASEP Exam Preparation (PT)",      type:"PDF",  size:"8.7 MB",  cat:"guide",    restricted:true,  icon:"ğŸ“", date:"2026-01" },
  { id:7, title:"Estatutos SESPT 2025",                  type:"PDF",  size:"420 KB",  cat:"legal",    restricted:false, icon:"ğŸ“œ", date:"2025-09" },
  { id:8, title:"RelatÃ³rio Anual 2025",                  type:"PDF",  size:"3.2 MB",  cat:"legal",    restricted:false, icon:"ğŸ“Š", date:"2026-01" },
];

let NEWS = [
  { id:1, title:"Portugal lidera WG INCOSE sobre Offshore Renewables",  cat:"Destaque",      date:"2026-02-24", excerpt:"A WindFloat Atlantic tornou-se caso de estudo internacional. O capÃ­tulo portuguÃªs coordena agora o WG com parceiros de 12 paÃ­ses.", icon:"ğŸŒŠ" },
  { id:2, title:"Embraer Ã‰vora junta-se ao Corporate Advisory Board",    cat:"CAB",           date:"2026-02-18", excerpt:"A fabricante aeronÃ¡utica reforÃ§a a presenÃ§a industrial no capÃ­tulo.",                                                              icon:"âœˆï¸" },
  { id:3, title:"3Âª turma CSEP em Portugal: 12 aprovados",              cat:"CertificaÃ§Ã£o",  date:"2026-02-10", excerpt:"Recordes de aprovaÃ§Ã£o no prep-course de dezembro de 2025. Taxa de aprovaÃ§Ã£o de 92%, acima da mÃ©dia global INCOSE.",               icon:"ğŸ…" },
  { id:4, title:"INCOSE Portugal no INCOSE IS 2026 â€“ Las Vegas",        cat:"Internacional", date:"2026-01-30", excerpt:"TrÃªs membros do capÃ­tulo apresentaram papers no Symposium anual.",                                                                icon:"ğŸŒ" },
];

let JOBS = [
  { id:1, co:"Embraer Portugal",     logo:"EMB", title:"Systems Engineer â€“ Aerostructures", loc:"Ã‰vora",          type:"Full-time",  tags:["MBSE","SysML","Aerostructures"],     desc:"IntegraÃ§Ã£o de sistemas de estruturas aeronÃ¡uticas no novo programa de jatos executivos.", pending:false },
  { id:2, co:"EDP Renewables",       logo:"EDP", title:"Lead SE â€“ Offshore Wind Division",  loc:"Lisboa",         type:"Full-time",  tags:["Requisitos","Interface Mgmt"],       desc:"LideranÃ§a tÃ©cnica da equipa de SE para o programa WindFloat Atlantic 2.0.",               pending:false },
  { id:3, co:"IST / INESC-ID",       logo:"IST", title:"Investigador Doutoramento â€“ MBSE",  loc:"Lisboa / Remoto",type:"Bolsa FCT",  tags:["PhD","MBSE","InvestigaÃ§Ã£o"],         desc:"Bolsa FCT para doutoramento em Model-Based Systems Engineering.",                          pending:false },
  { id:4, co:"Thales Alenia Space",  logo:"TAS", title:"Systems Architect â€“ Space Segment", loc:"Porto",          type:"Full-time",  tags:["Space","ECSS","CSEP preferido"],     desc:"Arquitetura de sistemas para segmento espacial em programa de observaÃ§Ã£o da Terra.",      pending:false },
  { id:5, co:"Critical Software",    logo:"CSW", title:"SE Consultant â€“ Automotive",        loc:"Coimbra / Remoto",type:"Full-time", tags:["ISO 26262","SOTIF","Requisitos"],     desc:"Consultoria em engenharia de sistemas para projetos de veÃ­culos autÃ³nomos.",             pending:false },
  { id:6, co:"Hovione",              logo:"HOV", title:"Validation Systems Engineer",        loc:"Lisboa",         type:"Full-time",  tags:["GxP","V&V","FarmacÃªutico"],          desc:"Engenheiro de validaÃ§Ã£o para linha de produÃ§Ã£o farmacÃªutica contÃ­nua.",                  pending:false },
];
let PENDING_JOBS = [{ id:99, co:"Nova empresa Lda.", title:"Systems Engineer Jr." }];

// â”€â”€ NAVIGATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function navTo(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
  const pg = document.getElementById('page-' + id);
  if (pg) pg.classList.add('active');
  const nb = document.querySelector(`nav button[onclick="navTo('${id}')"]`);
  if (nb) nb.classList.add('active');
  window.scrollTo({ top: 0, behavior: 'smooth' });
  // Render page content
  if (id === 'events')    renderEvents();
  if (id === 'knowledge') renderKnowledge();
  if (id === 'jobs')      renderJobs();
  if (id === 'dashboard') renderDashboard();
  if (id === 'admin')     renderAdmin();
}

// â”€â”€ AUTH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openModal(id) { document.getElementById(id).classList.add('open'); }
function closeModal(id) { document.getElementById(id).classList.remove('open'); }

function switchAuthTab(tab) {
  document.querySelectorAll('.modal-tab').forEach((t,i) => t.classList.toggle('active', (i===0&&tab==='login')||(i===1&&tab==='register')));
  document.getElementById('auth-login').style.display    = tab==='login'    ? 'block' : 'none';
  document.getElementById('auth-register').style.display = tab==='register' ? 'block' : 'none';
  document.getElementById('auth-modal-title').textContent = tab==='login' ? 'Entrar na plataforma' : 'Criar conta';
}

function fillDemo(email) {
  document.getElementById('login-email').value = email;
  document.getElementById('login-pass').value  = DEMO_PASS;
}

function doLogin() {
  const email = document.getElementById('login-email').value.trim().toLowerCase();
  const pass  = document.getElementById('login-pass').value;
  const user  = USERS[email];
  const errEl = document.getElementById('login-err');
  if (user && pass === DEMO_PASS) {
    currentUser = { email, ...user };
    errEl.style.display = 'none';
    closeModal('modal-auth');
    updateUI();
    navTo('dashboard');
  } else {
    errEl.style.display = 'flex';
  }
}

function doLogout() {
  currentUser = null;
  appliedJobs = [];
  updateUI();
  navTo('home');
}

function updateUI() {
  const u = currentUser;
  const utilArea = document.getElementById('util-user-area');
  if (u) {
    utilArea.innerHTML = `
      <span style="display:inline-flex;align-items:center;gap:.6rem">
        <span style="width:26px;height:26px;border-radius:50%;background:var(--teal);display:inline-flex;align-items:center;justify-content:center;font-size:.63rem;font-weight:800">${u.avatar}</span>
        <span style="color:rgba(255,255,255,.7);font-size:.74rem">${u.name}</span>
        <button class="btn btn-ghost btn-sm" onclick="doLogout()" style="font-size:.71rem;padding:.2rem .6rem">Terminar sessÃ£o</button>
      </span>`;
    document.getElementById('nav-dashboard').style.display = 'block';
    document.getElementById('nav-admin').style.display     = u.role==='admin' ? 'block' : 'none';
    if (u.role==='cab'||u.role==='admin') document.getElementById('btn-post-job').style.display='inline-flex';
  } else {
    utilArea.innerHTML = `<button class="btn btn-primary btn-sm" onclick="openModal('modal-auth')">ğŸ” Login / Registo</button>`;
    document.getElementById('nav-dashboard').style.display = 'none';
    document.getElementById('nav-admin').style.display     = 'none';
    document.getElementById('btn-post-job').style.display  = 'none';
  }
  // Re-render active page
  renderEvents(); renderKnowledge(); renderJobs();
}

// â”€â”€ LANGUAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const TRANS = {
  pt: { badge:"CapÃ­tulo oficial INCOSE em Portugal", h1:"Engenharia de Sistemas<br><span class='grad'>com raÃ­zes atlÃ¢nticas</span>", p:"A comunidade portuguesa de profissionais INCOSE. FormaÃ§Ã£o certificada, networking, Working Groups ativos e representaÃ§Ã£o no ecossistema global de Systems Engineering.", cta1:"Tornar-me sÃ³cio â†’", cta2:"Ver eventos" },
  en: { badge:"Official INCOSE Chapter in Portugal",  h1:"Systems Engineering<br><span class='grad'>with Atlantic roots</span>",     p:"The Portuguese community of INCOSE professionals. Certified training, networking, active Working Groups and representation in the global SE ecosystem.",             cta1:"Become a member â†’", cta2:"See events" },
};
function setLang(l, btn) {
  document.querySelectorAll('.lang-toggle button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  const t = TRANS[l];
  document.getElementById('hero-badge-txt').textContent = t.badge;
  document.getElementById('hero-h1').innerHTML = t.h1;
  document.getElementById('hero-p').textContent = t.p;
  document.getElementById('hero-cta1').textContent = t.cta1;
  document.getElementById('hero-cta2').textContent = t.cta2;
}

// â”€â”€ COOKIE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function closeCookie() { document.getElementById('cookie-banner').style.display='none'; }

// â”€â”€ HOME NEWS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderHomeNews() {
  const el = document.getElementById('home-news');
  el.innerHTML = NEWS.slice(0,3).map((n,i) => `
    <div class="card news-card" style="${i===0?'grid-row:span 1':''}">
      <div class="news-card-icon">${n.icon}</div>
      <span class="badge badge-teal">${n.cat}</span>
      <h3 style="font-family:'Syne',sans-serif;font-weight:700;font-size:${i===0?'1.02rem':'.88rem'};margin:.45rem 0 .35rem;line-height:1.35">${n.title}</h3>
      ${i===0?`<p style="font-size:.82rem;color:var(--muted);line-height:1.6">${n.excerpt}</p>`:''}
      <div style="font-size:.71rem;color:rgba(255,255,255,.28);margin-top:.55rem">${n.date}</div>
    </div>`).join('');
}

// â”€â”€ EVENTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getEvtPrice(e) {
  if (!currentUser) return e.price.pub;
  if (currentUser.role==='student') return e.price.stu;
  if (currentUser.quota) return e.price.mem;
  return e.price.pub;
}
const typeLabel = { summit:"Summit", webinar:"Webinar", workshop:"Workshop", wg:"Working Group" };
const fmtColor  = { presencial:"badge-cork", online:"badge-teal" };

function renderEvents() {
  const list = document.getElementById('events-list');
  if (!list) return;
  const filtered = EVENTS.filter(e =>
    (evtFilterFormat==='all'||e.format===evtFilterFormat) &&
    (evtFilterType==='all'||e.type===evtFilterType)
  );
  list.innerHTML = filtered.map(e => {
    const d = new Date(e.date);
    const price = getEvtPrice(e);
    const isReg = registeredEvts.includes(e.id);
    const discount = currentUser?.quota && price < e.price.pub;
    return `<div class="card event-row">
      <div class="event-date-box">
        <div class="event-day">${d.getDate()}</div>
        <div class="event-month">${d.toLocaleString('pt',{month:'short'})}</div>
      </div>
      <div style="flex:1">
        <div style="display:flex;gap:.38rem;margin-bottom:.32rem;flex-wrap:wrap">
          <span class="badge ${fmtColor[e.format]}">${e.format}</span>
          <span class="badge badge-blue">${typeLabel[e.type]}</span>
          ${discount?'<span class="badge badge-green">âœ“ PreÃ§o de membro</span>':''}
        </div>
        <h3 style="font-family:'Syne',sans-serif;font-weight:700;font-size:.95rem;margin-bottom:.18rem">${e.title}</h3>
        <p style="font-size:.77rem;color:var(--muted)">${e.loc}</p>
      </div>
      <div class="event-right">
        <div class="event-price ${price===0?'event-price-free':''}">${price===0?'GrÃ¡tis':price+'â‚¬'}</div>
        ${discount?`<div style="font-size:.63rem;color:var(--muted);text-decoration:line-through">${e.price.pub}â‚¬</div>`:''}
        <div style="display:flex;gap:.38rem;margin-top:.45rem;justify-content:flex-end">
          <button class="btn btn-ghost btn-sm" onclick="openEventDetail(${e.id})">Detalhes</button>
          ${isReg
            ? `<button class="btn btn-success btn-sm">âœ“ Inscrito</button>`
            : `<button class="btn btn-primary btn-sm" onclick="registerEvent(${e.id})">${currentUser?'Inscrever':'Login p/ inscrever'}</button>`
          }
        </div>
      </div>
    </div>`;
  }).join('');
}

function filterEvents(dim, val, btn) {
  if (dim==='format') {
    evtFilterFormat = val;
    document.querySelectorAll('[data-filter-format]').forEach(b=>b.className=b.getAttribute('data-filter-format')===val?'btn btn-teal btn-sm':'btn btn-ghost btn-sm');
  } else {
    evtFilterType = val;
    document.querySelectorAll('[data-filter-type]').forEach(b=>b.className=b.getAttribute('data-filter-type')===val?'btn btn-teal btn-sm':'btn btn-ghost btn-sm');
  }
  renderEvents();
}

function registerEvent(id) {
  if (!currentUser) { openModal('modal-auth'); return; }
  if (!registeredEvts.includes(id)) registeredEvts.push(id);
  renderEvents();
  closeModal('modal-event');
}

function openEventDetail(id) {
  const e = EVENTS.find(x=>x.id===id);
  if (!e) return;
  const price = getEvtPrice(e);
  const isReg = registeredEvts.includes(e.id);
  document.getElementById('ev-modal-title').textContent = e.title;
  document.getElementById('ev-modal-body').innerHTML = `
    <div style="display:flex;gap:.38rem;margin-bottom:.9rem;flex-wrap:wrap">
      <span class="badge ${fmtColor[e.format]}">${e.format}</span>
      <span class="badge badge-blue">${typeLabel[e.type]}</span>
    </div>
    <p style="font-size:.87rem;color:rgba(255,255,255,.7);line-height:1.7;margin-bottom:1rem">${e.desc}</p>
    <div class="topbox" style="margin-bottom:1rem">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:.55rem;font-size:.81rem">
        <div><span style="color:var(--muted)">Data: </span>${e.date}</div>
        <div><span style="color:var(--muted)">Local: </span>${e.loc}</div>
        <div><span style="color:var(--muted)">Vagas: </span>${e.cap-e.reg} restantes</div>
        <div><span style="color:var(--muted)">Inscritos: </span>${e.reg}</div>
      </div>
    </div>
    <p style="font-size:.73rem;font-weight:600;color:var(--muted);letter-spacing:1px;margin-bottom:.45rem">PREÃ‡OS</p>
    ${[['PÃºblico geral',e.price.pub],['Membro ativo',e.price.mem],['Estudante',e.price.stu]].map(([l,p])=>`
      <div style="display:flex;justify-content:space-between;font-size:.84rem;padding:.28rem 0;border-bottom:1px solid var(--border)">
        <span style="color:var(--muted)">${l}</span>
        <strong style="color:${p===0?'var(--success)':'#fff'}">${p===0?'GrÃ¡tis':p+'â‚¬'}</strong>
      </div>`).join('')}
    <div style="display:flex;gap:.6rem;margin-top:1.2rem">
      <button class="btn ${isReg?'btn-success':'btn-primary'} btn-md" style="flex:1;justify-content:center" onclick="registerEvent(${e.id})">
        ${isReg?'âœ“ JÃ¡ inscrito':'Inscrever agora'}
      </button>
      <button class="btn btn-ghost btn-md" onclick="downloadICS(${e.id})">â¬‡ .ics</button>
    </div>`;
  openModal('modal-event');
}

function downloadICS(id) {
  const e = EVENTS.find(x=>x.id===id);
  const d = e.date.replace(/-/g,'');
  const ics = `BEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\nSUMMARY:${e.title}\nDTSTART:${d}T090000Z\nDTEND:${d}T180000Z\nLOCATION:${e.loc}\nDESCRIPTION:${e.desc}\nEND:VEVENT\nEND:VCALENDAR`;
  const a = Object.assign(document.createElement('a'),{href:URL.createObjectURL(new Blob([ics],{type:'text/calendar'})),download:'evento-incose.ics'});
  a.click();
}

// â”€â”€ KNOWLEDGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const catLabels = { all:"Todos", handbook:"Handbook", template:"Templates", webinar:"Webinars", guide:"Guias", legal:"Legal / Estatutos" };

function renderKnowledge() {
  const alertEl = document.getElementById('knowledge-alert');
  const catsEl  = document.getElementById('doc-cats');
  const gridEl  = document.getElementById('docs-grid');
  if (!alertEl) return;
  if (!currentUser)        alertEl.innerHTML = `<div class="alert alert-warn">ğŸ”’ Os materiais tÃ©cnicos requerem login e quota ativa. <button onclick="openModal('modal-auth')" style="background:none;border:none;color:var(--teal2);cursor:pointer;font-weight:600;font-family:inherit">Entrar â†’</button></div>`;
  else if (!currentUser.quota) alertEl.innerHTML = `<div class="alert alert-warn">âš  Quota inativa. Renove a adesÃ£o para aceder aos materiais tÃ©cnicos.</div>`;
  else                         alertEl.innerHTML = `<div class="alert alert-success">âœ“ Acesso completo â€“ quota ativa atÃ© dezembro 2026.</div>`;

  catsEl.innerHTML = Object.entries(catLabels).map(([k,v])=>
    `<button class="btn ${docFilterCat===k?'btn-teal':'btn-ghost'} btn-sm" onclick="filterDocs('${k}',this)">${v}</button>`
  ).join('');

  const search = (document.getElementById('doc-search')?.value||'').toLowerCase();
  const filtered = DOCS.filter(d => (docFilterCat==='all'||d.cat===docFilterCat) && d.title.toLowerCase().includes(search));
  const canAccess = d => !d.restricted || currentUser?.quota;

  gridEl.innerHTML = filtered.map(d => `
    <div class="card doc-card" style="${!canAccess(d)?'opacity:.6':''}">
      <div style="font-size:2rem;margin-bottom:.65rem">${d.icon}</div>
      <div style="display:flex;gap:.35rem;margin-bottom:.45rem;flex-wrap:wrap">
        <span class="badge badge-blue">${d.type}</span>
        ${d.restricted?`<span class="badge ${canAccess(d)?'badge-green':'badge-warn'}">${canAccess(d)?'âœ“ Acesso':'ğŸ”’ Membros'}</span>`:''}
      </div>
      <h4 style="font-family:'Syne',sans-serif;font-weight:700;font-size:.86rem;margin-bottom:.22rem;line-height:1.3">${d.title}</h4>
      <p style="font-size:.71rem;color:var(--muted);margin-bottom:.75rem">${d.size} Â· ${d.date}</p>
      ${canAccess(d)
        ? `<button class="btn btn-primary btn-sm">â¬‡ Download</button>`
        : `<button class="btn btn-ghost btn-sm" onclick="openModal('modal-auth')">${currentUser?'Renovar quota':'ğŸ”’ Fazer login'}</button>`
      }
    </div>`).join('');
}

function filterDocs(cat) {
  docFilterCat = cat;
  renderKnowledge();
}

// â”€â”€ JOBS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderJobs() {
  const alertEl   = document.getElementById('jobs-alert');
  const tagsEl    = document.getElementById('job-tag-filters');
  const gridEl    = document.getElementById('jobs-grid');
  if (!alertEl) return;

  if (!currentUser)              alertEl.innerHTML = `<div class="alert alert-info">ğŸ”’ Candidatura 1-click disponÃ­vel para membros. <button onclick="openModal('modal-auth')" style="background:none;border:none;color:var(--teal2);cursor:pointer;font-weight:600;font-family:inherit">Fazer login â†’</button></div>`;
  else if (!currentUser.quota)   alertEl.innerHTML = `<div class="alert alert-warn">âš  Quota inativa. Renove para usar a candidatura 1-click.</div>`;
  else                           alertEl.innerHTML = `<div class="alert alert-success">âœ“ Perfil ativo â€“ candidatura 1-click disponÃ­vel.</div>`;

  const allTags = [...new Set(JOBS.flatMap(j=>j.tags))];
  tagsEl.innerHTML = ['all',...allTags].map(t=>
    `<button class="btn ${jobFilterTag===t?'btn-teal':'btn-ghost'} btn-sm" onclick="filterJobs('${t}')">${t==='all'?'Todas':t}</button>`
  ).join('');

  const search = (document.getElementById('job-search')?.value||'').toLowerCase();
  const filtered = JOBS.filter(j => !j.pending &&
    (jobFilterTag==='all'||j.tags.includes(jobFilterTag)) &&
    (j.title.toLowerCase().includes(search)||j.co.toLowerCase().includes(search))
  );
  gridEl.innerHTML = filtered.map(j => {
    const isApplied = appliedJobs.includes(j.id);
    return `<div class="card job-card">
      <div style="display:flex;gap:.85rem;margin-bottom:.75rem">
        <div class="job-logo">${j.logo}</div>
        <div>
          <h4 style="font-family:'Syne',sans-serif;font-weight:700;font-size:.9rem;margin-bottom:.12rem">${j.title}</h4>
          <div style="font-size:.77rem;color:var(--muted)">${j.co} Â· ${j.loc}</div>
        </div>
      </div>
      <p style="font-size:.79rem;color:rgba(255,255,255,.55);line-height:1.55;margin-bottom:.75rem">${j.desc}</p>
      <div style="display:flex;gap:.3rem;flex-wrap:wrap;margin-bottom:.75rem">
        ${j.tags.map(t=>`<span class="badge badge-default">${t}</span>`).join('')}
        <span class="badge badge-blue">${j.type}</span>
      </div>
      <div style="display:flex;align-items:center;justify-content:space-between">
        <span style="font-size:.67rem;color:rgba(255,255,255,.22)">Publicado: ${j.posted||'2026-02-28'}</span>
        ${isApplied
          ? `<button class="btn btn-success btn-sm">âœ“ Candidatura enviada</button>`
          : `<button class="btn ${currentUser?.quota?'btn-primary':'btn-ghost'} btn-sm" onclick="applyJob(${j.id})">${currentUser?.quota?'1-Click Apply âš¡':'Candidatar â†’'}</button>`
        }
      </div>
    </div>`;
  }).join('');
}

function filterJobs(tag) {
  jobFilterTag = tag;
  renderJobs();
}

function applyJob(id) {
  if (!currentUser) { openModal('modal-auth'); return; }
  if (!appliedJobs.includes(id)) appliedJobs.push(id);
  renderJobs();
}

function showPostJob() { document.getElementById('post-job-form').style.display='block'; }

function submitJob() {
  const title = document.getElementById('nj-title').value.trim();
  if (!title) return;
  JOBS.unshift({
    id: Date.now(), co: currentUser?.name||'Empresa',
    logo: (currentUser?.avatar||'EM'), title,
    loc: document.getElementById('nj-loc').value,
    type: document.getElementById('nj-type').value,
    tags: document.getElementById('nj-tags').value.split(',').map(t=>t.trim()).filter(Boolean),
    desc: document.getElementById('nj-desc').value,
    pending: false,
  });
  PENDING_JOBS.push({ id: Date.now()+1, co: currentUser?.name||'Empresa', title });
  ['nj-title','nj-loc','nj-tags','nj-desc'].forEach(i=>document.getElementById(i).value='');
  document.getElementById('post-job-form').style.display='none';
  renderJobs();
  if (document.getElementById('admin-pending-count')) renderAdminPending();
}

// â”€â”€ DASHBOARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderDashboard() {
  const u = currentUser;
  document.getElementById('dash-locked').style.display   = u ? 'none'  : 'block';
  document.getElementById('dash-content').style.display  = u ? 'block' : 'none';
  if (!u) return;
  document.getElementById('dash-avatar').textContent     = u.avatar;
  document.getElementById('dash-greeting').textContent   = `OlÃ¡, ${u.name.split(' ')[0]}!`;
  document.getElementById('dash-badges').innerHTML       = `<span class="badge badge-blue">${u.type}</span><span class="badge ${u.quota?'badge-green':'badge-warn'}">${u.quota?'âœ“ Quota ativa 2026':'âš  Quota inativa'}</span>`;
  document.getElementById('quota-status-val').textContent = u.quota ? 'Ativo' : 'Inativo';
  document.getElementById('quota-status-val').style.color = u.quota ? 'var(--success)' : 'var(--warn)';
  document.getElementById('quota-alert').innerHTML        = u.quota ? '' : `<div class="alert alert-warn">âš  A sua quota anual expirou. Renove para manter acesso a todos os benefÃ­cios.</div>`;
  document.getElementById('prof-name').value  = u.name;
  document.getElementById('prof-email').value = u.email;
  document.getElementById('prof-type').value  = u.type;
}

function switchDashTab(id, btn) {
  document.querySelectorAll('.dash-panel').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.dash-tabs .dash-tab').forEach(b=>b.classList.remove('active'));
  document.getElementById('dp-'+id).classList.add('active');
  if (btn) btn.classList.add('active');
}

// â”€â”€ ADMIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderAdmin() {
  const u = currentUser;
  document.getElementById('admin-locked').style.display  = (u&&u.role==='admin') ? 'none'  : 'block';
  document.getElementById('admin-content').style.display = (u&&u.role==='admin') ? 'block' : 'none';
  if (!u||u.role!=='admin') return;
  renderAdminNews();
  renderAdminPending();
  renderAdminUsers();
  renderAdminNewsletter();
}

function renderAdminNews() {
  document.getElementById('admin-news-list').innerHTML = NEWS.map(n=>`
    <div class="card-flat news-manage-row">
      <div style="font-size:1.4rem">${n.icon}</div>
      <div style="flex:1">
        <div style="display:flex;gap:.35rem;margin-bottom:.22rem"><span class="badge badge-teal">${n.cat}</span></div>
        <h4 style="font-family:'Syne',sans-serif;font-weight:700;font-size:.87rem">${n.title}</h4>
        <p style="font-size:.71rem;color:var(--muted)">${n.date}</p>
      </div>
      <button class="btn btn-ghost btn-sm">âœ Editar</button>
      <button class="btn btn-danger btn-sm" onclick="deleteArticle(${n.id})">ğŸ—‘ Apagar</button>
    </div>`).join('');
}

function renderAdminPending() {
  const el = document.getElementById('admin-pending-list');
  const count = document.getElementById('admin-pending-count');
  if (count) count.textContent = PENDING_JOBS.length;
  if (!el) return;
  el.innerHTML = PENDING_JOBS.length === 0
    ? '<p style="color:var(--muted)">Sem vagas pendentes.</p>'
    : PENDING_JOBS.map(j=>`
      <div class="card-flat news-manage-row">
        <div style="flex:1">
          <h4 style="font-family:'Syne',sans-serif;font-weight:700;font-size:.9rem">${j.title}</h4>
          <p style="font-size:.77rem;color:var(--muted)">${j.co}</p>
        </div>
        <span class="badge badge-warn">â³ Pendente</span>
        <button class="btn btn-success btn-sm" onclick="approveJob(${j.id})">âœ“ Aprovar</button>
        <button class="btn btn-danger btn-sm" onclick="rejectJob(${j.id})">âœ• Rejeitar</button>
      </div>`).join('');
}

function approveJob(id) { PENDING_JOBS = PENDING_JOBS.filter(j=>j.id!==id); renderAdminPending(); }
function rejectJob(id)  { PENDING_JOBS = PENDING_JOBS.filter(j=>j.id!==id); renderAdminPending(); }

function renderAdminUsers() {
  document.getElementById('admin-users-tbody').innerHTML = Object.entries(USERS).map(([email,u])=>`
    <tr>
      <td><div style="display:flex;align-items:center;gap:.55rem"><div style="width:26px;height:26px;border-radius:50%;background:var(--teal);display:inline-flex;align-items:center;justify-content:center;font-size:.63rem;font-weight:800">${u.avatar}</div>${u.name}</div></td>
      <td style="color:var(--muted)">${email}</td>
      <td><span class="badge badge-blue">${u.type}</span></td>
      <td><span class="badge ${u.quota?'badge-green':'badge-warn'}">${u.quota?'Ativa':'Inativa'}</span></td>
      <td><button class="btn btn-ghost btn-sm">Gerir</button></td>
    </tr>`).join('');
}

function renderAdminNewsletter() {
  document.getElementById('newsletter-news-list').innerHTML = NEWS.map(n=>`
    <label class="card-flat" style="padding:.85rem 1.1rem;display:flex;align-items:center;gap:.8rem;cursor:pointer">
      <input type="checkbox" style="accent-color:var(--teal)">
      <span style="font-size:.87rem">${n.icon} ${n.title}</span>
    </label>`).join('');
}

function addArticle() {
  const title = document.getElementById('na-title').value.trim();
  if (!title) return;
  NEWS.unshift({
    id: Date.now(),
    title,
    cat: document.getElementById('na-cat').value,
    icon: document.getElementById('na-icon').value||'ğŸ“°',
    excerpt: document.getElementById('na-excerpt').value,
    date: new Date().toISOString().slice(0,10),
  });
  ['na-title','na-excerpt'].forEach(i=>document.getElementById(i).value='');
  document.getElementById('na-icon').value='ğŸ“°';
  renderAdminNews();
  renderHomeNews();
  renderAdminNewsletter();
}

function deleteArticle(id) {
  NEWS = NEWS.filter(n=>n.id!==id);
  renderAdminNews();
  renderHomeNews();
  renderAdminNewsletter();
}

function switchAdminTab(id, btn) {
  document.querySelectorAll('#admin-content .dash-panel').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('#admin-content .dash-tabs .dash-tab').forEach(b=>b.classList.remove('active'));
  document.getElementById('adp-'+id).classList.add('active');
  if (btn) btn.classList.add('active');
}

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
renderHomeNews();
renderEvents();
</script>
</body>
</html>
